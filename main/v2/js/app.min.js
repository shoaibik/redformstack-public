$=null,window.devMode=!1,document.addEventListener("DOMContentLoaded",function(){window.jQuery&&($=jQuery,$.fn.isInViewport=function(){if($(this).offset()){var e=$(this).offset().top,n=e+$(this).outerHeight(),t=$(window).scrollTop(),a=t+$(window).height();return n>t&&e<a}return!1}),app.init()}),window.addEventListener("load",function(){app.formOnLoad()});var availablePlans=[],app={addressAutocompleteKey:"KF52-HM45-TC15-RH34",pixelId:"758451334748699",conditionalTablet:!0,data:{pricingType:null,userProvince:null,company:null,province:null,region:null,customerType:null,existingCustomerType:null,phone:null,plan:null,phoneColor:null,additionalPhone:null,additionalPlan:null,additionalPhoneColor:null},setData:function(e,n){switch(app.data[e]=n,e){case"plan":$('[fs-field-validation-name="Primary plan"] input').val(n),"Bring Own Device"===app.data.phone&&$('[fs-field-validation-name="Primary Phone Color"] input').val("None");break;case"phoneColor":$('[fs-field-validation-name="Primary Phone Color"] input').val(n);break;case"province":"Quebec"===n?app.setData("region","QC"):"Saskatchewan"===n||"Manitoba"===n?app.setData("region","MW"):app.setData("region","NATIONAL");break;case"existingCustomerType":$("form.fsForm").addClass(n);break;case"additionalPhone":"Bring Own Device"!==app.data.additionalPhone&&$('[fs-field-validation-name="Additional Line Phone Color"] input').val("");case"additionalPlan":"Bring Own Device"===app.data.additionalPhone&&$('[fs-field-validation-name="Additional Line Phone Color"] input').val("None")}console.log(app.data)},init:function(){var e,n;"/forms/rpp"!==window.location.pathname&&(window.devMode=!0),this.timeout(),setTimeout(()=>{$.ajax({url:"https://api.ipinfodb.com/v3/ip-city/?key=572ad25b60f79f5ac21a0bb8d8b436ee4d6f1e7d7e424fcc4bbcdeffe51a57aa&format=json",dataType:"jsonp"}).done(e=>{e&&e.regionName&&(app.data.userProvince=e.regionName)})}),$.getJSON("https://redwireless.s3.ca-central-1.amazonaws.com/pricesList.json",function(e){pricing=e.pricing,pricing.forEach(e=>{let n=[];e.groups.forEach(e=>{var t=[],a=[];e.region&&t.push(e.region),e.company&&t.push(e.company);let i=e.plans.split("\n");i&&i.forEach(e=>{a.push(e.trim())}),n.push({include:t,exclude:[],plans:a,planType:e.planType,pricing:e.pricing})}),availablePlans.push({phone:e.phone,tip:e.tip,groups:n})}),app.initPhoneSection()}),this.initFBPixel(),this.lazyLoadImages(),this.setSectionClasses(),this.initHomeSection(),this.loadExternalJS(),this.loadExternalCSS(),this.confirmationPageUpdate(),this.accessoriesUpdate(),this.initAdditionalSection(),this.initBillingSection(),this.initUTMParameters(),this.validatePhoneNumber(),$(".fsForm").addClass("outfunnel-form"),$('.fsForm input[type="email"]').addClass("outfunnel-input-email"),$(".fsForm .fsNameFirst input").addClass("outfunnel-input-firstname"),$(".fsForm .fsNameLast input").addClass("outfunnel-input-lastname"),window.OFID="5fcba696beed351a6f2ea1d1",e=document.createElement("script"),n="https://cdn.outfunnel.com/c.js?v="+(new Date).toISOString().substring(0,10),e.setAttribute("src",n),document.getElementsByTagName("head")[0].appendChild(e)},timeout:function(){var e=new Date(Date.parse(new Date)+36e5),n=(new Date,!1);$(".topBar").append('<span id="countdown" style="float: right; color: #fff; text-transform: none; font-size: 14px;"></span>');var t=!1,a=setInterval(function(){var i=function(e){const n=Date.parse(e)-Date.parse(new Date),t=Math.floor(n/1e3%60),a=Math.floor(n/1e3/60%60),i=Math.floor(n/36e5%24),o=Math.floor(n/864e5);return{total:n,days:o,hours:i,minutes:a,seconds:t}}(e);i.minutes<=15&&!t&&(t=!0,alert("Deals will expire on "+e.toLocaleTimeString())),$("#countdown").html("Deals expires in "+("0"+i.minutes).slice(-2)+":"+("0"+i.seconds).slice(-2)),e.getTime()<(new Date).getTime()&&(n=!0),(i.seconds<=0&&i.minutes<=0||n)&&($(".fsPagination").hide(),window.location.reload(!0),clearInterval(a))},1e3)},loadScript:function(e,n=document.head,t=null){var a=document.createElement("script");a.src=e,t&&(a.onload=t,a.onreadystatechange=t),n.appendChild(a)},formOnLoad:function(){$("#fsLocal").attr("data-state","loaded"),this.setCustomerType();var e=this.urlParam("name-first"),n=this.urlParam("name-last"),t=this.urlParam("contact_phone_number")||this.urlParam("phone_number")||this.urlParam("phone");e&&$(".fsNameFirst input").val(e.replace(/\+/g," ")),n&&$(".fsNameLast input").val(n.replace(/\+/g," ")),t&&(t=(t=t.replace(/\+/g," ")).replace("%2B","+"),$(".fsFormatPhoneCA").val(t)),$('[fs-field-validation-name="Existing Provider"] select').wrap('<span class="notranslate"></span>')},loadStyle:function(e){var n=document.createElement("link");n.href=e,n.rel="stylesheet",n.type="text/css",document.head.appendChild(n)},loadExternalJS:function(){this.loadScript("https://chat-assets.frontapp.com/v1/chat.bundle.js",document.body,app.initFrontChat),this.loadScript("https://ws1.postescanada-canadapost.ca/js/addresscomplete-2.30.min.js?key="+this.addressAutocompleteKey,document.body,app.initAddressComplete)},loadExternalCSS:function(){this.loadStyle("https://ws1.postescanada-canadapost.ca/css/addresscomplete-2.30.min.css?key="+this.addressAutocompleteKey)},initFrontChat:function(){window.FrontChat("init",{chatId:"3bcc16b171ba8a7c32db3e0481fbec16",useDefaultLauncher:!0}),$("body").on("click",'#front-chat-holder > div > div[role="button"]',function(){$("body").addClass("chat-open")}),$("body").on("click",'#front-chat-holder > div > div div [role="button"]',function(){$("body").removeClass("chat-open")})},initAddressComplete:function(){$('div[fs-field-type="address"]').each(function(e,n){var t=$(n).find(".fsFieldAddress input").attr("id"),a=[{element:t,field:"",mode:1},{element:t,field:"Line1",mode:2},{element:$(n).find(".fsFieldAddress2 input").attr("id"),field:"Line2",mode:2},{element:$(n).find(".fsFieldCity input").attr("id"),field:"City",mode:2},{element:$(n).find(".fsFieldState select").attr("id"),field:"ProvinceName",mode:2},{element:$(n).find(".fsFieldZip input").attr("id"),field:"PostalCode"}];new pca.Address(a,{key:"KF52-HM45-TC15-RH34"}).listen("populate",function(e){let t=e.Line1.split(" ");t[0]&&-1!==(t=t[0]).indexOf("-")&&(unit=t.split("-"),unit[0]&&(unit=unit[0].trim(),t=e.Line1.replace(unit+"-",""),unit===t.substr(0,unit.length)&&(t=t.replace(unit,"").trim()),$(n).find(".fsFieldAddress input").val(t),$(n).find(".fsFieldAddress2 input").val("Unit "+unit)))})})},accessoriesUpdate:function(){$(".section-accessories .fsProductField").on("click",function(e){var n=$(this).find("select").val();"select"!==e.target.nodeName.toLowerCase()&&((n=$(this).find("select").val())?n>=1&&n<10&&n++:n=1,$(this).find("select").val(n),n&&$(this).closest(".fsFieldRow").addClass("selected"))}),$(".section-accessories .fsProductField select").on("change",function(){$(this).val()&&"0"!==$(this).val()?$(this).parents(".fsProductField").trigger("click"):setTimeout(()=>{$(this).parents(".fsFieldRow").removeClass("selected")},100)}),$(".phone-cases .fsImageOptionButton").on("click",function(e){if("select"===e.target.nodeName.toLowerCase())return e.preventDefault(),void e.stopPropagation();$(this).find(".fsImageOptionImageSelected").length>0&&(e.preventDefault(),e.stopPropagation()),setTimeout(()=>{var e=$(this).parent().find('input[type="hidden"]').first();e.attr("data-value")||""===e.val()||e.attr("data-value",e.val()),$(this).find("select").val()||$(this).find("select").val(1),$(this).find("select").val()?e.val(e.attr("data-value")+" -- Quantity: "+$(this).find("select").val()):e.val("")},100)}),$(".phone-cases .fsImageOptionButton:not(:first-child)").each(function(e,n){$(n).append('<div class="select-quantity"> <label for="field100587830">Quantity:</label> <select> <option value="" selected="" disabled="">--</option> <option value="0">0</option> <option value="1">1</option> <option value="2">2</option> <option value="3">3</option> <option value="4">4</option> <option value="5">5</option> <option value="6">6</option> <option value="7">7</option> <option value="8">8</option> <option value="9">9</option> <option value="10">10</option> </select> </div>')})},initUTMParameters(){var e=this.urlParam("campaign_source"),n=this.urlParam("campaign_term"),t=this.urlParam("campaign_medium"),a=this.urlParam("campaign_content"),i=this.urlParam("campaign_name");$(".fsNextButton").on("click",function(){setTimeout(function(){$(".section-contact-information").closest(".fsPage").is(":visible")&&(e&&$('[fs-field-validation-name="Campaign Source"] input').val(e),n&&$('[fs-field-validation-name="Campaign Term"] input').val(n),t&&$('[fs-field-validation-name="Campaign Medium"] input').val(t),a&&$('[fs-field-validation-name="Campaign Content"] input').val(a),i&&$('[fs-field-validation-name="Campaign Name"] input').val(i))},500)})},validatePhoneNumber:function(){var e=$('.section-transfer-number input[type="tel"]');e.next().hide(),e.on("change blur",function(){setTimeout(()=>{t(this)},200)}),e.keyup(function(){t(this)});var n=$('.section-add-a-line---transfer-a-number input[type="tel"]');function t(e){var n=$(e).val();"(807)"===n.substr(0,5)||"807"===n.substr(0,3)?($(e).attr("aria-invalid","true"),$(e).closest(".fsRowBody").addClass("fsValidationError"),$(e).focus(),$(e).next().show()):$(e).next().hide()}n.next().hide(),n.on("change blur",function(){setTimeout(()=>{t(this)},200)}),n.keyup(function(){t(this)})},confirmationPageUpdate:function(){$(".fsNextButton").on("click",function(){setTimeout(function(){let e=$("div[id^=confirmationPage]").not("[id^=confirmationPageDefault]");if(e.closest(".fsPage").is(":visible")){var n=[];$(".section-addons input:checkbox:checked").each(function(){n.push($(this).val())}),"None"!==app.data.phoneColor&&e.find("#primary-phone-color").html(app.data.phoneColor),e.find("#primary-plan").html(app.data.plan),e.find("#additional-phone").html(app.data.additionalPhone),"None"!==app.data.additionalPhoneColor&&e.find("#additional-phone-color").html(app.data.additionalPhoneColor),e.find("#additional-plan").html(app.data.additionalPlan),e.find(".field.addon-checkbox .value")[0].innerHTML=n.join(" <span>and</span> ");var t=[];$(".page-additional-addons .section-additional-addons input:checkbox:checked").each(function(){t.push($(this).val())}),e.find(".field.addon-checkbox2 .value")[0].innerHTML=t.join(" <span>and</span> "),e.find(".field").each(function(e,n){let t=$(n).find(".value");t.length&&((t=t[0]).innerHTML=t.innerHTML.replace(/&nbsp;/g,"").trim(),""!==t.innerHTML&&"--"!==t.innerHTML&&"0"!==t.innerHTML||$(n).addClass("hide"));var a=$(n).closest(".group");a.length&&$(a).find(".field").length===$(a).find(".field.hide").length&&$(a).addClass("hide")})}},300)})},lazyLoadImages:function(){$(".fsHiddenPage img").each(function(e){let n=this.src;this.src="data:image/svg+xml,%3Csvg version='1.1' id='loader-1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='40px' height='40px' viewBox='0 0 50 50' style='enable-background:new 0 0 50 50;' xml:space='preserve'%3E%3Cpath fill='%23000' d='M43.935,25.145c0-10.318-8.364-18.683-18.683-18.683c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615c8.072,0,14.615,6.543,14.615,14.615H43.935z'%3E%3CanimateTransform attributeType='xml' attributeName='transform' type='rotate' from='0 25 25' to='360 25 25' dur='0.6s' repeatCount='indefinite'%3E%3C/animateTransform%3E%3C/path%3E%3C/svg%3E",$(this).attr("data-src",n)}),$(".fsPage:not(.fsHiddenPage) + .fsPage img:not(.loaded)").each(function(e){let n=$(this).attr("data-src");n&&($(this).attr("src",n),$(this).addClass("loaded"))}),$(".fsNextButton").on("click",function(){$(".fsPage:not(.fsHiddenPage) + .fsPage img:not(.loaded), .fsPage:not(.fsHiddenPage) + .fsPage + .fsPage img:not(.loaded)").each(function(e){let n=$(this).attr("data-src");n&&($(this).attr("src",n),$(this).addClass("loaded"))}),setTimeout(function(){$(".fsPage:not(.fsHiddenPage) img").each(function(){var e=$(this).attr("data-src");e&&!$(this).hasClass("loaded")&&($(this).attr("src",e),$(this).addClass("loaded"))})},300),setTimeout(function(){$(".section-phone-banners").each(function(){var e=$(this).find(".bannerRow:visible").length;$(this).addClass("banners-"+e)})},300)})},setSectionClasses:function(){$('[fs-field-validation-name="Section Class" i]').each(function(){var e=$(this).find("input").attr("placeholder");$(this).closest(".fsSection").addClass("section-"+e),$(this).closest(".fsPage").addClass("page-"+e)})},initHomeSection:function(){var e=$("[fs-field-validation-name=Company] input"),n=$('[fs-field-validation-name="Company"] input').val();if(n){var t=$('[fs-field-validation-name="pricing"] input').val();"RPP PRICING"!==t&&"CBU PRICING"!==t||app.setData("pricingType",t),$.ajax({url:"https://redwireless.s3.ca-central-1.amazonaws.com/landing/js/companies-list.json"}).done(a=>{var i=a.companies,o=a.alias;n=n.toUpperCase();var s=o.find(e=>e.alias.toLowerCase()===n.toLowerCase());s&&s.alias,-1!==i.indexOf(n)?e.val(n):s?(e.val(s.name),n=s.name):"OTHER (COMPANY NOT LISTED)"===n||t||(n=""),e.val(n),n&&(app.setData("company",n),$('[fs-field-validation-name="Company List"] select option').each(function(){if(this.text.toUpperCase().trim()==n.toUpperCase().trim()){var e=this.text;$('[fs-field-validation-name="Company List"] select').val(e)}}))})}$(".fsPage").first().addClass("home-section"),$(".home-section label, .section-addline label").mousedown(function(e){1===e.which&&($("#fsLocal").attr("data-state","loading"),setTimeout(()=>{$("#fsLocal").attr("data-state","loaded")},100))}),$('[fs-field-validation-name="Customer Type"] input').change(()=>{app.setCustomerType()}),$('[fs-field-validation-name="Customer Type - Existing"] input').change(function(){var e=$('[fs-field-validation-name="Customer Type - Existing"] input:checked').val();e&&(e=e.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,""),app.setData("existingCustomerType",e),e.match(/discount/gi)&&$('.section-billing input[type="radio"]').prop("checked","checked")),$('.home-section input[value="I would like to upgrade my phone"]').is(":checked")&&$(".section-phones-list .fsImageOptionFieldContainer input").val("").trigger("change")}),$(".home-section [fs-field-validation-name='Which province are you from?'] select").change(function(){app.setData("province",$(this).val()),$(".section-phones-list .fsImageOptionFieldContainer input").trigger("change")}),app.data.userProvince&&$("[fs-field-validation-name='Which province are you from?'] select").val(app.data.userProvince).trigger("change")},setCustomerType:function(){var e=$('[fs-field-validation-name="Customer Type"] input:checked').val();e&&(e=e.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,""),app.setData("customerType",e))},initFBPixel:function(){var e,n,t,a,i,o;e=window,n=document,t="script",e.fbq||(a=e.fbq=function(){a.callMethod?a.callMethod.apply(a,arguments):a.queue.push(arguments)},e._fbq||(e._fbq=a),a.push=a,a.loaded=!0,a.version="2.0",a.agent="redformstack",a.queue=[],(i=n.createElement(t)).async=!0,i.src="https://connect.facebook.net/en_US/fbevents.js",(o=n.getElementsByTagName(t)[0]).parentNode.insertBefore(i,o));var s=window.location.href,l=new URL(s).searchParams.get("company");l&&""!=l&&!1===window.devMode&&(fbq("set","autoConfig",!1,this.pixelId),fbq("init",this.pixelId),fbq("track","Lead"))},getPhonePlans:function(e,n=!1){let t=availablePlans.find(n=>n.phone.trim()===e.trim());var a=null;t&&t.tip&&(a=t.tip);let i=t.groups.filter(e=>e.include.includes(app.data.region)),o=[];if(o=i.length>0?i:t.groups.filter(e=>0===e.include.length&&!e.exclude.includes(app.data.region)),app.data.pricingType){var s=o.filter(e=>e.pricing==app.data.pricingType);s&&(o=s)}else if(app.data.company){let e=o.filter(e=>e.include.includes(app.data.company)||0===e.include.length);e.length>0&&(o=e)}if(n){let e=o.filter(e=>"additional"===e.planType);e.length>0&&(o=e)}var l=jQuery("<div class='plans-list'></div>");o.length>0&&o[0].plans.forEach(e=>{var n=e;if(-1!==n.indexOf("$")){var t=n.indexOf("$"),a=n.slice(0,t),i=n.match(/\$((?:\d|\,)*\.?\d+)/g)||[];i&&(i=i[0]);var o=n.slice(n.indexOf("per month on the")+"per month on the".length,n.length).trim(),s=null;if(-1!==o.indexOf("Bonus")){var d=o.slice(o.lastIndexOf("+"),o.lastIndexOf("Bonus")+5);o=o.slice(0,o.lastIndexOf("+")),s=d.slice(d.lastIndexOf("+")+1,d.indexOf("GB")+2),d=(d=d.replace("+","")).slice(d.indexOf("Bonus"),d.length)}var p=-1!==n.indexOf("UP Front Edge")||-1!==n.indexOf("Upfront Edge");p&&(a=a.slice(a.indexOf("-")+1,a.length).trim());var r=o.slice(0,o.indexOf("GB")+2);o=(o=o.slice(o.indexOf("GB")+2,o.length)).replace("Infinite Plan","Infinite Data Plan");var c=i.slice(0,i.indexOf(".")),f=i.slice(i.indexOf("."),i.length),u=jQuery("<label><div class='box'><input type='radio' name='phone-plans' value='"+e+"'></input></div></label>");tag=u.find(".box"),p&&($(u).addClass("upfront"),tag.append('<span class="upfront">Upfront Edge</span>'));var h="";a.length>=30&&(h="tight"),"No Term"===a.trim()&&(h+=" no-term"),tag.append('<span class="model '+h+'">'+a+"</span>"),tag.append('<span class="plan"><strong>'+r+"</strong> "+o+"</span>"),d&&(tag.addClass("has-bonus"),tag.append('<span class="bonus"><strong>'+s+" </strong> "+d+"</span>")),o.length>35&&tag.addClass("small-text"),tag.append('<span class="price"><strong>'+c+"</strong><span>"+f+"</span>/mo.</span>"),u.append(tag),l.append(u)}});var d=jQuery("<div class='plans-list-wrapper'></div>");return d.append(l),a&&d.append("<div class='tip'>"+a+"</div>"),d},initPhoneSection:function(){function e(e,n=!1){var t=$(e).closest(".fsPage"),a=$(e).val().trim();if(!a)return;t.attr("id")===$(".page-phones-list").first().attr("id")?(app.setData("phone",a),app.setData("plan",null),"Bring Own Device"===app.data.phone?app.setData("phoneColor","None"):app.setData("phoneColor","")):(app.setData("additionalPhone",a),app.setData("additionalPlan",null),"Bring Own Device"===a?app.setData("additionalPhoneColor","None"):app.setData("additionalPhoneColor","")),t.find(".section-plans-list .phone-plans").hide(),t.find('.section-plans-list .fsRowBody legend span:contains("- Color")').closest(".fsRow").hide(),t.find('.section-plans-list .fsRowBody legend span:contains("'+a+' - Color")').closest(".fsRow").show();let i=app.getPhonePlans(a,n);t.find(".plans-list-wrapper").length>0?t.find(".plans-list-wrapper").html(i.html()):t.find(".section-plans-list").prepend(i[0].outerHTML),setTimeout(function(){$("html, body").animate({scrollTop:t.find(".plans-list-wrapper").offset().top},500)},50)}function n(e){var n=$(e).closest(".fsPage");if(n.attr("id")===$(".page-phones-list").first().attr("id")?app.setData("plan",$(e).val()):app.setData("additionalPlan",$(e).val()),n.find(".section-plans-list .fsImageOptionFieldContainer:visible").isInViewport()||setTimeout(function(){$("html, body").animate({scrollTop:n.find('.section-plans-list .fsRowBody:visible legend span:contains("- Color")').offset().top},300)},50),$('[fs-field-validation-name="Agreement"]').closest(".fsRow").addClass("upfront-edge-agreement"),$(e).prop("checked")&&$(e).closest(".upfront").length>0?(n.find('.upfront-edge-agreement, [fs-field-validation-name="Agreement"]').show(),n.find('.upfront-edge-agreement, [fs-field-validation-name="Agreement"]').closest(".fsRow").show(),n.find(".upfront-edge-agreement").find(".fsRowBody").show(),n.find(".upfront-edge-agreement input").addClass("fsRequired").prop("checked",!1)):(n.find('.upfront-edge-agreement, [fs-field-validation-name="Agreement"]').hide(),n.find('.upfront-edge-agreement, [fs-field-validation-name="Agreement"]').closest(".fsRow").hide(),n.find(".upfront-edge-agreement input").removeClass("fsRequired")),app.conditionalTablet){var t=parseInt(n.find(".section-plans-list").find(".plans-list input:checked").closest(".box").find(".plan strong").text().split(" ")[0],10),a=$('.home-section input[value="NEW Rogers Customer"]').is(":checked"),i=$('.home-section input[value="I would like to upgrade my phone"]').is(":checked");isNaN(t)||t<25||!a&&!i?$(".section-addons .fsImageOptionButton").each((e,n)=>{-1===$(n).find(".fsOptionLabel").text().indexOf("Huawei")&&-1===$(n).find(".fsOptionLabel").text().indexOf("ZTE Grand X")||($(n).addClass("disabled"),0===$(n).find("span.error").length&&$(n).append("<span class='error'>Tablet Offer is only available for Data Plans of 25GB or greater.</span>"))}):$(".section-addons .disabled").removeClass("disabled");var o=parseInt($(".page-additional-phone").find(".plans-list input:checked").closest(".box").find(".plan strong").text().split(" ")[0],10);isNaN(o)||o<25?$(".page-additional-addons .fsImageOptionButton").each((e,n)=>{-1===$(n).find(".fsOptionLabel").text().indexOf("Huawei")&&-1===$(n).find(".fsOptionLabel").text().indexOf("ZTE Grand X")||($(n).addClass("disabled"),0===$(n).find("span.error").length&&$(n).append("<span class='error'>Tablet Offer is only available for Data Plans of 25GB or greater.</span>"))}):$(".page-additional-addons .disabled").removeClass("disabled")}}$(".page-phones-list").first().find(".section-phones-list .fsImageOptionFieldContainer input").trigger("change"),$('[fs-field-validation-name="Additional Line Phone"] input').on("change",function(){e(this,!0)}),$(".page-phones-list").find(".section-phones-list .fsImageOptionFieldContainer input").on("change",function(){e(this)}),$(".page-phones-list").first().find(".section-phones-list .fsImageOptionFieldContainer input").trigger("change"),$(".page-phones-list").on("change",".plans-list input",function(){n(this)}),$(".page-additional-phone").on("change",".plans-list input",function(){n(this)}),$(".page-additional-phone").on("change",".upfront-edge-agreement input",function(){$(this).prop("checked")&&$(this).removeClass("fsRequired")}),$(".page-additional-phone").on("click",".upfront-edge-agreement label",function(e){e.target===this&&$(this).find("input").trigger("click")}),$('.section-additional-phone [fs-field-validation-name="Additional Line Phone Color"] input').change(function(){app.setData("additionalPhoneColor",$(this).val())}),$(".page-phones-list .section-plans-list .fsImageOptionFieldContainer input").change(function(){app.setData("phoneColor",$(this).val())});var t=$(".phone-plans-list label").length,a="columns-2";1===t?a="columns-1":3===t&&(a="columns-3"),$(".phone-plans-list").addClass(a);var i=".section-phone-banners";$(i).find('[fs-field-type="richtext"] img').each(function(){$(this).attr("src").match(/upfront/gi)||$(this).attr("data-src").match(/upfront/gi)?$(this).closest(".fsRow").addClass("upfront-sample"):$(this).closest(".fsRow").addClass("bannerRow")}),$(i).find('[fs-field-type="richtext"] table').each(function(){$(this).closest(".fsRow").addClass("bannerRow")}),app.conditionalTablet&&($(".section-addons .fsImageOptionButton").click(function(){if("true"===$(this).attr("aria-checked"))return!0;var e=!0,n=0,t=-1!==$(this).find(".fsOptionLabel").text().indexOf("Huawei")||-1!==$(this).find(".fsOptionLabel").text().indexOf("ZTE Grand X");return $(".section-addons .fsImageOptionFieldContainer").find("input:checked").each(function(){-1===$(this).val().indexOf("Huawei")&&-1===$(this).val().indexOf("ZTE Grand X")||n++}),n>0&&t&&(alert("Only one tablet per customer account is allowed"),e=!1),e}),$(".page-additional-addons .fsImageOptionButton").click(function(){if("true"===$(this).attr("aria-checked"))return!0;var e=!0,n=0,t=-1!==$(this).find(".fsOptionLabel").text().indexOf("Huawei")||-1!==$(this).find(".fsOptionLabel").text().indexOf("ZTE Grand X");return $(".page-additional-addons .fsImageOptionFieldContainer").find("input:checked").each(function(){-1===$(this).val().indexOf("Huawei")&&-1===$(this).val().indexOf("ZTE Grand X")||n++}),n>0&&t&&(alert("Only one tablet per customer account is allowed"),e=!1),e}))},initAdditionalSection:function(){$('.section-addline input, [fs-field-validation-name="Customer Type - Existing"] input').change(function(){if("Yes"===$(".section-addline input:checked").val()||"I would like to add a line"===$('[fs-field-validation-name="Customer Type - Existing"] input:checked').val()){var e=$(".page-phones-list").clone();e.find('[fs-field-validation-name="Primary plan"], [fs-field-validation-name="Primary Phone Color"]').closest(".fsRow").remove(),e.find("button").prop("type","button"),e.find(".fsImageOptionImageSelected").removeClass("fsImageOptionImageSelected").addClass("fsImageOptionImage"),e.find(".fsImageOptionFieldContainer input").val("").removeClass("fsRequired"),e.find(".fsSectionHeader").remove(),e.find(".section-phone-banners").first().remove(),e.find('[fs-field-validation-name="Agreement"]').closest(".fsRow").addClass("upfront-edge-agreement"),e.find("*").each(function(){$(this).attr("name")&&$(this).attr("name",$(this).attr("name")+"_clone"),$(this).attr("id")&&$(this).attr("id",$(this).attr("id")+"_clone"),$(this).removeAttr("fs-field-type"),$(this).removeAttr("fs-field-validation-name")}),e.html(e.html().replace("Primary Line","Additional Line")),0===$(".section-additional-phone .addtional-phone-wrapper").length?$(".section-additional-phone").append('<div class="addtional-phone-wrapper">'+e.html()+"</div>"):$(".section-additional-phone .addtional-phone-wrapper").html(e.html());var n=$(".section-additional-phone .section-phones-list"),t=$(".section-additional-phone .section-plans-list");n.find(".fsImageOptionButton").click(function(){n.find(".fsImageOptionImageSelected").removeClass("fsImageOptionImageSelected").addClass("fsImageOptionImage"),$(this).find(".fsImageOptionImage").addClass("fsImageOptionImageSelected").removeClass("fsImageOptionImage"),$('.section-additional-phone [fs-field-validation-name="Additional Line Phone"] input').val($(this).find(".fsOptionLabel").text()),$('.section-additional-phone [fs-field-validation-name="Additional Line Phone"] input').trigger("change"),"Bring Own Device"===$(this).find(".fsOptionLabel").text()&&$('[fs-field-validation-name="Primary Phone Color"] input').val("None")}),n.find(".fsImageOptionButton").first().trigger("click"),t.find(".fsImageOptionButton").click(function(){t.find(".fsImageOptionImageSelected").removeClass("fsImageOptionImageSelected").addClass("fsImageOptionImage"),$(this).find(".fsImageOptionImage").addClass("fsImageOptionImageSelected").removeClass("fsImageOptionImage"),$('.section-additional-phone [fs-field-validation-name="Additional Line Phone Color"] input').val($(this).find(".fsOptionLabel").text()),$('.section-additional-phone [fs-field-validation-name="Additional Line Phone Color"] input').trigger("change")}),t.on("click",".plans-list label",function(){$('.section-additional-phone [fs-field-validation-name="Additional Line Plan"] input').val($(this).find("input").val()),$('.section-additional-phone [fs-field-validation-name="Additional Line Plan"] input').trigger("change")});$(".section-addons fieldset")}else app.data.additionalPhone=null,app.data.additionalPhoneColor=null,app.data.additionalPlan=null})},initBillingSection:function(){$(".fsNextButton").on("click",function(){$(".section-billing").is(":visible")&&($('.section-billing input[type="checkbox"]').closest(".fsRowBody").removeClass("fsValidationError"),$('.section-billing input[type="checkbox"]').length===$('.section-billing input[type="checkbox"]:checked').length?($('.section-billing input[type="radio"]').prop("checked","checked"),$('.section-billing input[type="radio"]').closest(".fsRowBody").hasClass("fsValidationError")):($('.section-billing input[type="radio"]').removeAttr("checked"),$('.section-billing input[type="radio"]').closest(".fsRowBody").hasClass("fsValidationError")&&setTimeout(()=>{$('.section-billing input[type="checkbox"]').closest(".fsRowBody").hasClass("fsValidationError")||$('.section-billing input[type="checkbox"]').closest(".fsRowBody").addClass("fsValidationError")},100)))})},urlParam:function(e){var n=new RegExp("[?&]"+e+"=([^&#]*)").exec(window.location.href);return null==n?null:decodeURI(n[1])||0}};
//# sourceMappingURL=app.min.js.map