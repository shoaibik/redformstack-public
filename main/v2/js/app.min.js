$=null,window.devMode=!1,document.addEventListener("DOMContentLoaded",function(){window.jQuery&&($=jQuery,$.fn.isInViewport=function(){if($(this).offset()){var e=$(this).offset().top,i=e+$(this).outerHeight(),a=$(window).scrollTop(),n=a+$(window).height();return i>a&&e<n}return!1}),app.init()}),window.addEventListener("load",function(){app.formOnLoad()});var availablePlans=[],app={addressAutocompleteKey:"KF52-HM45-TC15-RH34",pixelId:"758451334748699",conditionalTablet:!0,dasher:!1,admin:!1,companies:[],dp:[{model:"Apple iPhone SE 64GB",price:"615"},{model:"Apple iPhone SE 128GB",price:"690"},{model:"Apple iPhone SE 256GB",price:"830"},{model:"Apple iPhone XR 64GB",price:"720"},{model:"Apple iPhone 11 Pro Max 64GB",price:"1555"},{model:"Apple iPhone 11 Pro 64GB",price:"1415"},{model:"Apple iPhone 11 64GB",price:"875"},{model:"Apple iPhone 12 Pro Max 128GB",price:"1596"},{model:"Apple iPhone 12 Pro Max 256GB",price:"1740"},{model:"Apple iPhone 12 Pro Max 512GB",price:"2016"},{model:"Apple iPhone 12 Mini 64GB",price:"1008"},{model:"Apple iPhone 12 Mini 128GB",price:"1080"},{model:"Apple iPhone 12 Mini 256GB",price:"1225"},{model:"Apple iPhone 12 Pro 128GB",price:"1440"},{model:"Apple iPhone 12 Pro 256GB",price:"1584"},{model:"Apple iPhone 12 Pro 512GB",price:"1860"},{model:"Apple iPhone 12 64GB",price:"1164"},{model:"Apple iPhone 12 128GB",price:"1236"},{model:"Apple iPhone 12 256GB",price:"1380"},{model:"Google Pixel 5 128GB",price:"950"},{model:"LG Velvet 128GB",price:"750"},{model:"Motorola Edge+ 256GB",price:"2000"},{model:"Samsung A32 5G",price:"435"},{model:"Samsung A52 5G",price:"770"},{model:"Samsung Galaxy Note 20 Ultra 5G 128GB",price:"2250"},{model:"Samsung Galaxy Note 20 Ultra 5G 512GB",price:"2510"},{model:"Samsung Galaxy Note 20 5G 128GB",price:"1730"},{model:"Samsung Galaxy S20 FE 5G 128GB",price:"1200"},{model:"Samsung Galaxy S20 5G 128GB",price:"1650"},{model:"Samsung Galaxy S20+ 5G 128GB",price:"2000"},{model:"Samsung Galaxy S20+ 5G 512GB",price:"2200"},{model:"Samsung Galaxy S20 Ultra 5G 128GB",price:"2300"},{model:"Samsung Galaxy S20 Ultra 5G 512GB",price:"2610"},{model:"Samsung Galaxy S21 5G 128GB",price:"1400"},{model:"Samsung Galaxy S21 5G 256GB",price:"1485"},{model:"Samsung Galaxy S21+ 5G 128GB",price:"1730"},{model:"Samsung Galaxy S21+ 5G 256GB",price:"1820"},{model:"Samsung Galaxy S21 Ultra 5G 128GB",price:"2040"},{model:"Samsung Galaxy S21 Ultra 5G 256GB",price:"2125"},{model:"Samsung Galaxy S21 Ultra 5G 512GB",price:"2335"},{model:"Samsung Galaxy S21 Ultra 5G 512GB",price:"2335"}],data:{pricingType:null,userProvince:null,company:null,province:null,region:null,customerType:null,existingCustomerType:null,phone:null,model:null,plan:null,phoneColor:null,additionalPhone:null,additionalPlan:null,additionalPhoneColor:null},init:function(){"/forms/rpp"!==window.location.pathname&&(window.devMode=!0,$("body").addClass("devMode")),window.location.pathname.includes("dasher")&&(app.dasher=!0),this.initSentry(),this.initGoogleAnalytics(),this.findProvince(),this.getPrices(),this.timeout(),this.lazyLoadImages(),this.setSectionClasses(),this.loadGTranslate(),this.initHomeSection(),this.loadExternalJS(),this.loadExternalCSS(),this.confirmationPageUpdate(),this.accessoriesUpdate(),this.initAdditionalSection(),this.initBillingSection(),this.initUTMParameters(),this.validatePhoneNumber(),this.initOutFunnel(),this.initValidations(),this.initAddons(),this.initVerification(),app.dasher&&$(document).on("click","div.fsError",function(){$(this).remove()}),"undefined"!=typeof this_is_the_admin&&!0===this_is_the_admin&&(app.admin=!0),app.admin&&($("body").addClass("adminMode").append("<div class='info-summary'></div>"),$("body").on("click",".info-summary",function(){$(this).hide()}))},initSentry:function(){},initVerification:function(){var e=$('[fs-field-validation-name="Select One Primary ID"] select'),i=$('[fs-field-validation-name="Select One Secondary ID"] select');e.change(function(){i.find("option").removeAttr("disabled"),$(this).val()&&i.find('option[value="'+$(this).val()+'"]').attr("disabled",!0),$(this).closest(".fsPage").find(".common-field.fsHidden").removeClass("show"),"Credit Card (Not prepaid or Debit)"===$(this).val()&&setTimeout(()=>{$(this).closest(".fsRow").after($(this).closest(".fsPage").find('[fs-field-type="creditcard"]').closest(".common-field").addClass("show")),$(this).closest(".fsPage").find('[fs-field-type="creditcard"]').closest(".common-field").after($(this).closest(".fsPage").find('[fs-field-validation-name="Credit Card Billing Address"]').closest(".common-field").addClass("show"))},200),"Drivers License"===$(this).val()&&setTimeout(()=>{$(this).closest(".fsRow").after($(this).closest(".fsPage").find('[fs-field-validation-name="Drivers License Number"]').closest(".common-field").addClass("show"))},200),"SIN (Temporary SIN numbers start with 9 and will not be accepted.)"===$(this).val()&&setTimeout(()=>{$(this).closest(".fsRow").after($(this).closest(".fsPage").find('[fs-field-validation-name="SIN Number"]').closest(".common-field").addClass("show"))},200)});['[fs-field-validation-name="SIN Number"]','[fs-field-validation-name="Credit Card Billing Address"]','[fs-field-validation-name="Credit Card"]','[fs-field-validation-name="Drivers License Number"]'].forEach(e=>{$(e).closest(".fsRow").addClass("common-field")}),i.change(function(){if(e.find("option").removeAttr("disabled"),$(this).val()&&e.find('option[value="'+$(this).val()+'"]').attr("disabled",!0),$(this).closest(".fsPage").find(".common-field.fsHidden").removeClass("show"),"Credit Card (Not prepaid or Debit)"===$(this).val()&&setTimeout(()=>{$(this).closest(".fsRow").after($(this).closest(".fsPage").find('[fs-field-type="creditcard"]').closest(".common-field").addClass("show")),$(this).closest(".fsPage").find('[fs-field-type="creditcard"]').closest(".common-field").after($(this).closest(".fsPage").find('[fs-field-validation-name="Credit Card Billing Address"]').closest(".common-field").addClass("show"))},200),"Drivers License"===$(this).val()){let e=$(this).closest(".fsPage").find('[fs-field-validation-name="Drivers License Number"]').closest(".common-field").removeClass("show");setTimeout(()=>{$(this).closest(".fsRow").after(e.addClass("show"))},200)}"SIN (Temporary SIN numbers start with 9 and will not be accepted.)"===$(this).val()&&setTimeout(()=>{$(this).closest(".fsRow").after($(this).closest(".fsPage").find('[fs-field-validation-name="SIN Number"]').closest(".common-field").addClass("show"))},200)})},initAddressValidation:function(){},initAddons:function(){$('.page-addons .fsImageOptionFieldContainer button[alt*="iPhone"]').hide(),$('.page-additional-addons .fsImageOptionFieldContainer button[alt*="iPhone"]').hide(),$(".page-phones-list").first().find(".section-phones-list .fsImageOptionFieldContainer input").on("change",function(){$(this).val().includes("iPhone")&&$('.page-addons .fsImageOptionFieldContainer button[alt*="iPhone"]').show()}),$(".page-additional-phone").find('[fs-field-validation-name="Additional Line Phone"] select').on("change",function(){$(this).val().includes("iPhone")&&$('.page-additional-addons .fsImageOptionFieldContainer button[alt*="iPhone"]').show()})},initValidations:function(){$('[fs-field-validation-name="Passport Number"] input').on("keyup blur",function(){""!==$(this).val()&&($(this).val().match(/\b[\w]{2}[\d]{6}\b/gm)?$(this).closest(".fsRowBody").removeClass("fsValidationError"):$(this).closest(".fsRowBody").addClass("fsValidationError"))})},initMouseFlow:function(){var e;window._mfq=window._mfq||[],(e=document.createElement("script")).type="text/javascript",e.defer=!0,e.src="//cdn.mouseflow.com/projects/f239c49e-23f3-4e82-8521-da2a0125bd3b.js",document.getElementsByTagName("head")[0].appendChild(e)},initGoogleAnalytics:function(){var e,i,a,n,t,o;e=window,i=document,a="script",n="ga",e.GoogleAnalyticsObject=n,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,t=i.createElement(a),o=i.getElementsByTagName(a)[0],t.async=1,t.src="https://www.google-analytics.com/analytics.js",o.parentNode.insertBefore(t,o),ga("create","UA-167773818-2","auto"),ga("send","pageview"),ga("send","event","form","loaded"),$(".fsNextButton").on("click",function(){setTimeout(function(){if(!$("div.fsError:visible").length){let e=$(".fsPage:visible").find(".fsSectionHeading").first().text();ga("send","event","form","navigation",e)}},500)}),$(".fsSubmitButton").on("click",function(){$("div[id^=confirmationPage]").not("[id^=confirmationPageDefault]").is(":visible")&&ga("send","event","form","submit")})},setData:function(e,i){switch(app.data[e]=i,e){case"plan":$('[fs-field-validation-name="Primary plan"] input').val(i),"Bring Own Device"===app.data.phone&&$('[fs-field-validation-name="Primary Phone Color"] input').val("None");break;case"phoneColor":$('[fs-field-validation-name="Primary Phone Color"] input').val(i);break;case"province":"Quebec"===i?app.setData("region","QC"):"Saskatchewan"===i||"Manitoba"===i?app.setData("region","MW"):app.setData("region","NATIONAL");break;case"existingCustomerType":$("form.fsForm").addClass(i);break;case"additionalPhone":"Bring Own Device"!==app.data.additionalPhone&&$('[fs-field-validation-name="Additional Line Phone Color"] input').val("");case"additionalPlan":"Bring Own Device"===app.data.additionalPhone&&$('[fs-field-validation-name="Additional Line Phone Color"] input').val("None");case"pricingType":"CBU PRICING"===i&&$('[fs-field-validation-name="Customer Type - Existing"] label').eq(1).hide()}app.admin&&$("div.info-summary").html("\n                <div>\n                    <div>Company</div>\n                    <div>"+(app.data.company||"")+"</div>\n                </div>\n                <div>\n                    <div>Pricing Type</div>\n                    <div>"+(app.data.pricingType||"")+"</div>\n                </div>\n                <div>\n                    <div>Customer Type</div>\n                    <div>"+(app.data.customerType?app.data.customerType.toLowerCase().replace(/-/g," ").replace(/\b[a-z]/g,convertCapitalize):"")+"</div>\n                </div>\n                <div "+(app.data.existingCustomerType?"":'style="display:none;"')+">\n                    <div>Existing Customer Type</div>\n                    <div>"+(app.data.existingCustomerType?app.data.existingCustomerType.replace(/-/g," "):"")+"</div>\n                </div>\n                <div>\n                    <div>Province</div>\n                    <div>"+(app.data.province||"")+"</div>\n                </div>\n                <div>\n                    <div>Region</div>\n                    <div>"+(app.data.region||"")+"</div>\n                </div>\n                <div>\n                    <div>Phone</div>\n                    <div>"+(app.data.phone||"")+"</div>\n                </div>\n                <div>\n                    <div>Model</div>\n                    <div>"+(app.data.model||"")+"</div>\n                </div>\n                <div>\n                    <div>Color</div>\n                    <div>"+(app.data.phoneColor||"")+"</div>\n                </div>\n                <div>\n                    <div>Plan</div>\n                    <div>"+(app.data.plan||"")+"</div>\n                </div>\n            \n                <div>\n                    <div>Additional Phone</div>\n                    <div>"+(app.data.additionalPhone||"")+"</div>\n                </div>\n                <div>\n                    <div>Additional Phone Color</div>\n                    <div>"+(app.data.additionalPhoneColor||"")+"</div>\n                </div>\n                <div>\n                    <div>Additional Plan</div>\n                    <div>"+(app.data.additionalPlan||"")+"</div>\n                </div>\n            "),console.log(app.data)},findProvince:function(){setTimeout(()=>{$.ajax({url:"https://api.ipinfodb.com/v3/ip-city/?key=572ad25b60f79f5ac21a0bb8d8b436ee4d6f1e7d7e424fcc4bbcdeffe51a57aa&format=json",dataType:"jsonp"}).done(e=>{e&&e.regionName,0})})},getPrices:function(){$.getJSON("https://redwireless.s3.ca-central-1.amazonaws.com/data/pricesList.json",function(e){pricing=e.pricing,pricing.forEach(e=>{let i=[];e.groups.forEach(e=>{var a=[],n=[];e.region&&a.push(e.region),e.company&&a.push(e.company);let t=e.plans.split("\n");t&&t.forEach(e=>{n.push(e.trim())}),i.push({include:a,exclude:[],plans:n,planType:e.planType,customerType:e.customerType,pricing:e.pricing})}),availablePlans.push({phone:e.phone,tip:e.tip,groups:i})}),app.initPhoneSection()})},timeout:function(){var e=new Date(Date.parse(new Date)+36e5),i=(new Date,!1);app.dasher||($(".topBar .inner").length?$(".topBar .inner").append('<span id="countdown">Deals will expire on : <b></b></span>'):$(".topBar").append('<span id="countdown" style="float: right; color: #fff; text-transform: none; font-size: 14px;">Deals will expire on : <b></b></span>'));var a=!1,n=setInterval(function(){var t=function(e){const i=Date.parse(e)-Date.parse(new Date),a=Math.floor(i/1e3%60),n=Math.floor(i/1e3/60%60),t=Math.floor(i/36e5%24),o=Math.floor(i/864e5);return{total:i,days:o,hours:t,minutes:n,seconds:a}}(e);t.minutes<=15&&!a&&(a=!0,alert("Deals will expire on "+e.toLocaleTimeString())),$("#countdown b").html(("0"+t.minutes).slice(-2)+":"+("0"+t.seconds).slice(-2)),e.getTime()<(new Date).getTime()&&(i=!0),(t.seconds<=0&&t.minutes<=0||i)&&($(".fsPagination").hide(),window.location.reload(!0),clearInterval(n))},1e3)},initOutFunnel:function(){var e,i;$(".fsForm").addClass("outfunnel-form"),$('.fsForm input[type="email"]').addClass("outfunnel-input-email"),$(".fsForm .fsNameFirst input").addClass("outfunnel-input-firstname"),$(".fsForm .fsNameLast input").addClass("outfunnel-input-lastname"),window.OFID="5fcba696beed351a6f2ea1d1",e=document.createElement("script"),i="https://cdn.outfunnel.com/c.js?v="+(new Date).toISOString().substring(0,10),e.setAttribute("src",i),document.getElementsByTagName("head")[0].appendChild(e)},loadScript:function(e,i=document.head,a=null){var n=document.createElement("script");n.src=e,a&&(n.onload=a,n.onreadystatechange=a),i.appendChild(n)},formOnLoad:function(){$("#fsLocal").attr("data-state","loaded"),this.setCustomerType();var e=this.urlParam("name-first"),i=this.urlParam("name-last"),a=this.urlParam("contact_phone_number")||this.urlParam("phone_number")||this.urlParam("phone");this.urlParam("pricing-only");e&&$(".fsNameFirst input").val(e.replace(/\+/g," ")),i&&$(".fsNameLast input").val(i.replace(/\+/g," ")),a&&(a=(a=a.replace(/\+/g," ")).replace("%2B","+"),$(".fsFormatPhoneCA").val(a)),$('[fs-field-validation-name="Existing Provider"] select').wrap('<span class="notranslate"></span>'),"function"==typeof langChange&&langChange()},loadStyle:function(e){var i=document.createElement("link");i.href=e,i.rel="stylesheet",i.type="text/css",document.head.appendChild(i)},loadExternalJS:function(){this.loadScript("https://chat-assets.frontapp.com/v1/chat.bundle.js",document.body,app.initFrontChat),this.loadScript("https://ws1.postescanada-canadapost.ca/js/addresscomplete-2.30.min.js?key="+this.addressAutocompleteKey,document.body,app.initAddressComplete),this.loadScript("https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.js",document.body)},loadExternalCSS:function(){this.loadStyle("https://ws1.postescanada-canadapost.ca/css/addresscomplete-2.30.min.css?key="+this.addressAutocompleteKey)},initFrontChat:function(){let e="3bcc16b171ba8a7c32db3e0481fbec16";app.dasher&&(e="a05302496045c20f91cdd812eade85b0"),window.FrontChat("init",{chatId:e,useDefaultLauncher:!0}),$("body").on("click",'#front-chat-holder > div > div[role="button"]',function(){$("body").addClass("chat-open")}),$("body").on("click",'#front-chat-holder > div > div div [role="button"]',function(){$("body").removeClass("chat-open")})},initAddressComplete:function(){$('div[fs-field-type="address"]').each(function(e,i){var a=$(i).find(".fsFieldAddress input").attr("id"),n=[{element:a,field:"",mode:1},{element:a,field:"Line1",mode:2},{element:$(i).find(".fsFieldAddress2 input").attr("id"),field:"Line2",mode:2},{element:$(i).find(".fsFieldCity input").attr("id"),field:"City",mode:2},{element:$(i).find(".fsFieldState select").attr("id"),field:"ProvinceName",mode:2},{element:$(i).find(".fsFieldZip input").attr("id"),field:"PostalCode"}];new pca.Address(n,{key:"KF52-HM45-TC15-RH34"}).listen("populate",function(e){let a=e.Line1.split(" ");a[0]&&-1!==(a=a[0]).indexOf("-")&&(unit=a.split("-"),unit[0]&&(unit=unit[0].trim(),a=e.Line1.replace(unit+"-",""),unit===a.substr(0,unit.length)&&(a=a.replace(unit,"").trim()),$(i).find(".fsFieldAddress input").val(a),$(i).find(".fsFieldAddress2 input").val("Unit "+unit)))})})},accessoriesUpdate:function(){$('[fs-field-validation-name="Otterbox iPhone Charge and Sync Cable (200cm)"]').closest(".fsRow").addClass("lightning-cable"),$(".section-accessories .fsProductField").on("click",function(e){var i=$(this).find("select").val();"select"===e.target.nodeName.toLowerCase()||$(e.target).hasClass("fsProductField")||((i=$(this).find("select").val())?i>=1&&i<10&&i++:i=1,$(this).find("select").val(i).trigger("change"),i&&$(this).closest(".fsFieldRow").addClass("selected"))}),$(".section-accessories .fsProductField select").on("change",function(){$(this).val()&&"0"!==$(this).val()?$(this).parents(".fsProductField").trigger("click"):setTimeout(()=>{$(this).parents(".fsFieldRow").removeClass("selected")},100),setTimeout(()=>{if($(".section-accessories").first().find(".selected").length>0?$('.section-payment-options input[type="radio"]').addClass("fsRequired"):$('.section-payment-options input[type="radio"]').removeClass("fsRequired"),$(".section-accessories").eq(1).find(".selected").length>0){if(!$(".section-payment-options").first().find('input[type="radio"]:checked').val()){let e=$(".section-payment-options").eq(1).find("fieldset").closest(".fsRow");e.removeClass("fsHidden"),e.find(".fsRowBody").removeClass("fsHidden"),e.find("input").removeAttr("disabled")}$('.section-payment-options input[type="radio"]').addClass("fsRequired")}},100)}),$(".phone-cases .fsImageOptionButton").on("click",function(e){if("select"===e.target.nodeName.toLowerCase())return e.preventDefault(),void e.stopPropagation();$(this).find(".fsImageOptionImageSelected").length>0&&(e.preventDefault(),e.stopPropagation()),setTimeout(()=>{var e=$(this).parent().find('input[type="hidden"]').first();e.attr("data-value")||""===e.val()||e.attr("data-value",e.val()),$(this).find("select").val()||$(this).find("select").val(1),$(this).find("select").val()?e.val(e.attr("data-value")+" -- Quantity: "+$(this).find("select").val()):e.val("")},100)}),$(".phone-cases .fsImageOptionButton:not(:first-child)").each(function(e,i){$(i).append('<div class="select-quantity"> <label for="field100587830">Quantity:</label> <select> <option value="" selected="" disabled="">--</option> <option value="0">0</option> <option value="1">1</option> <option value="2">2</option> <option value="3">3</option> <option value="4">4</option> <option value="5">5</option> <option value="6">6</option> <option value="7">7</option> <option value="8">8</option> <option value="9">9</option> <option value="10">10</option> </select> </div>')})},initUTMParameters(){var e=this.urlParam("campaign_source"),i=this.urlParam("campaign_term"),a=this.urlParam("campaign_medium"),n=this.urlParam("campaign_content"),t=this.urlParam("campaign_name");$(".fsNextButton").on("click",function(){setTimeout(function(){$(".section-contact-information").closest(".fsPage").is(":visible")&&(e&&$('[fs-field-validation-name="Campaign Source"] input').val(e),i&&$('[fs-field-validation-name="Campaign Term"] input').val(i),a&&$('[fs-field-validation-name="Campaign Medium"] input').val(a),n&&$('[fs-field-validation-name="Campaign Content"] input').val(n),t&&$('[fs-field-validation-name="Campaign Name"] input').val(t))},500)})},validatePhoneNumber:function(){var e=$('.section-transfer-number input[type="tel"]');e.next().hide(),e.on("change blur",function(){setTimeout(()=>{a(this)},200)}),e.keyup(function(){a(this)});var i=$('.section-add-a-line---transfer-a-number input[type="tel"]');function a(e){var i=$(e).val();"(807)"===i.substr(0,5)||"807"===i.substr(0,3)?($(e).attr("aria-invalid","true"),$(e).closest(".fsRowBody").addClass("fsValidationError"),$(e).focus(),$(e).next().show()):$(e).next().hide()}i.next().hide(),i.on("change blur",function(){setTimeout(()=>{a(this)},200)}),i.keyup(function(){a(this)})},confirmationPageUpdate:function(){$(".fsNextButton").on("click",function(){setTimeout(function(){let e=$("div[id^=confirmationPage]").not("[id^=confirmationPageDefault]");if(e.closest(".fsPage").is(":visible")){$('button[alt="DP"]').next("input").prop("checked",!1);var i=app.urlParam("lifeworks_coupon_code");""!==i&&$.ajax({type:"POST",url:"https://hooks.zapier.com/hooks/catch/3790296/o72y76o/",data:{code:i,submissionId:app.urlParam("submissionId"),dateTime:(new Date).toLocaleString("en-CA")}});var a=[];$(".section-addons input:checkbox:checked").each(function(){a.push($(this).val())}),"None"!==app.data.phoneColor&&e.find("#primary-phone-color").html(app.data.phoneColor),e.find("#primary-plan").html(app.data.plan),e.find("#additional-phone").html(app.data.additionalPhone),"None"!==app.data.additionalPhoneColor&&e.find("#additional-phone-color").html(app.data.additionalPhoneColor),e.find("#additional-plan").html(app.data.additionalPlan),e.find(".field.addon-checkbox .value")[0].innerHTML=a.join(" <span>and</span> ");var n=[];$(".page-additional-addons .section-additional-addons input:checkbox:checked").each(function(){n.push($(this).val())}),e.find(".field.addon-checkbox2 .value")[0].innerHTML=n.join(" <span>and</span> "),e.find(".field").each(function(e,i){let a=$(i).find(".value");a.length&&((a=a[0]).innerHTML=a.innerHTML.replace(/&nbsp;/g,"").trim(),""!==a.innerHTML&&"--"!==a.innerHTML&&"0"!==a.innerHTML||$(i).addClass("hide"));var n=$(i).closest(".group");n.length&&$(n).find(".field").length===$(n).find(".field.hide").length&&$(n).addClass("hide")});var t="";app.data.phone&&(t+="Primary Device\n",t+="-"+app.data.phone+"\n",$('[fs-field-validation-name="Primary Device"] input').val(app.data.phone));let p=$('[fs-field-validation-name="Device Protection"] input').val();a.length&&(t+="\nPrimary Addons\n"+a.join(", "),p&&a.push(p),$('[fs-field-validation-name="Primary Addons"] input').val(a.join(", "))),p&&(t+=", "+p);var o=!1,s=0;$(".section-accessories").first().find("select").each(function(){$(this).val()&&"0"!==$(this).val()&&(o=!0,s++)}),o&&(t+="\n\nPrimary Accessories\n");let r=0,c="";$(".section-accessories").first().find("select").each(function(){if($(this).val()&&"0"!==$(this).val()){r++;let e=$(this).closest(".fsProductField").find(".fsProductField__info__name").html();t+=e+" - Qty "+$(this).val(),c+=e+" - Qty "+$(this).val(),s===r?(t+=".",c+="."):c+=", "}}),""!==c&&$('[fs-field-validation-name="Primary Accessories"] input').val(c),app.data.additionalPhone&&(t+="\n\n\n Secondary Device\n",t+="-"+app.data.additionalPhone+"\n",$('[fs-field-validation-name="Secondary Device"] input').val(app.data.additionalPhone));let f=$('[fs-field-validation-name="Add a Line - Device Protection"] input').val();n.length&&(t+="\nSecondary Addons\n"+n.join(", "),f&&n.push(f),$('[fs-field-validation-name="Secondary Addons"] input').val(n.join(", "))),f&&(t+=", "+f);var l=!1,d=0;$(".section-accessories").eq(1).find("select").each(function(){$(this).val()&&"0"!==$(this).val()&&(l=!0,d++)}),l&&(t+="\n\nSecondary Accessories\n");let m="",h=0;$(".section-accessories").eq(1).find("select").each(function(){if($(this).val()&&"0"!==$(this).val()){h++;let e=$(this).closest(".fsProductField").find(".fsProductField__info__name").html();t+=e+" - Qty "+$(this).val(),m+=e+" - Qty "+$(this).val(),d===h?(t+=".",m+="."):(t+=", ",m+=", ")}}),""!==m&&$('[fs-field-validation-name="Secondary Accessories"] input').val(m),$('[fs-field-validation-name="Products Ordered"] textarea').val(t)}},300)})},lazyLoadImages:function(){$(".fsHiddenPage img").each(function(e){let i=this.src;this.src="data:image/svg+xml,%3Csvg version='1.1' id='loader-1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' width='40px' height='40px' viewBox='0 0 50 50' style='enable-background:new 0 0 50 50;' xml:space='preserve'%3E%3Cpath fill='%23000' d='M43.935,25.145c0-10.318-8.364-18.683-18.683-18.683c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615c8.072,0,14.615,6.543,14.615,14.615H43.935z'%3E%3CanimateTransform attributeType='xml' attributeName='transform' type='rotate' from='0 25 25' to='360 25 25' dur='0.6s' repeatCount='indefinite'%3E%3C/animateTransform%3E%3C/path%3E%3C/svg%3E",$(this).attr("data-src",i)}),$(".fsPage:not(.fsHiddenPage) + .fsPage img:not(.loaded)").each(function(e){let i=$(this).attr("data-src");i&&($(this).attr("src",i),$(this).addClass("loaded"))}),$(".fsNextButton").on("click",function(){$(".fsPage:not(.fsHiddenPage) + .fsPage img:not(.loaded), .fsPage:not(.fsHiddenPage) + .fsPage + .fsPage img:not(.loaded)").each(function(e){let i=$(this).attr("data-src");i&&($(this).attr("src",i),$(this).addClass("loaded"))}),setTimeout(function(){$(".fsPage:not(.fsHiddenPage) img").each(function(){var e=$(this).attr("data-src");e&&!$(this).hasClass("loaded")&&($(this).attr("src",e),$(this).addClass("loaded"))})},300),setTimeout(function(){$(".section-phone-banners").each(function(){var e=$(this).find(".bannerRow:visible").length;$(this).addClass("banners-"+e)})},300)})},setSectionClasses:function(){$('[fs-field-validation-name="Section Class" i]').each(function(){var e=$(this).find("input").attr("placeholder");$(this).closest(".fsSection").addClass("section-"+e),$(this).closest(".fsPage").addClass("page-"+e)})},loadGTranslate:function(){$(".fsSection").first().prepend("<div id='google_translate_element2'></div>"),$(".fsSection").first().prepend('<div class="gflags"><a href="#" onclick="app.changeLanguage(\'en\');return false;" title="English" class="gflag nturl" style="background-position:-0px -0px;"><img src="//gtranslate.net/flags/blank.png" height="16" width="16" alt="English" /></a><a href="#" onclick="app.changeLanguage(\'fr\');return false;" title="French" class="gflag nturl" style="background-position:-200px -100px;"><img src="//gtranslate.net/flags/blank.png" height="16" width="16" alt="French" /></a></div>');var e=document.createElement("script");e.src="https://translate.google.com/translate_a/element.js?cb=app.googleTranslateElementInit2",e.type="text/javascript",e.onload=function(){},document.getElementsByTagName("head")[0].appendChild(e)},googleTranslateElementInit2:function(){new google.translate.TranslateElement({pageLanguage:"af",autoDisplay:!1},"google_translate_element2"),window.addEventListener("load",function(){setTimeout(function(){var e=$("html").attr("lang");"fr"===e?app.changeLanguage("fr"):"en"===e&&$("#\\:1\\.container").contents().find("#\\:1\\.restore").click()},1e3)})},changeLanguage:function(e){for(var i=document.querySelector("#google_translate_element2 select"),a=0;a<i.children.length;a++){if(i.children[a].value==e){i.selectedIndex=a,i.dispatchEvent(new Event("change"));break}}"fr"===e?$("[fs-field-validation-name=Language] select").val("French").trigger("change"):($("[fs-field-validation-name=Language] select").val("Default").trigger("change"),"en"===e&&$("#\\:1\\.container").contents().find("#\\:1\\.restore").click())},initHomeSection:function(){var e=$("[fs-field-validation-name=Company] input"),i=$('[fs-field-validation-name="Company"] input').val();if(i){var a=$('[fs-field-validation-name="pricing"] select').val();"RPP PRICING"!==a&&"CBU PRICING"!==a||app.setData("pricingType",a),$.ajax({url:"https://northamerica-northeast1-redwireless.cloudfunctions.net/companies"}).done(a=>{app.companies=a,i=i.toUpperCase(),e.val(i);var n=app.companies.find(e=>{if(!e.a)return!1;let a=e.a.map(e=>e.toLowerCase());return!!a.length&&-1!==a.indexOf(i.toLowerCase())});n&&n.alias,-1!==app.companies.map(e=>e.c.toUpperCase()).indexOf(i)?e.val(i):n?(e.val(n.c),i=n.c):e.val("OTHER (COMPANY NOT LISTED)"),i&&(app.setData("company",i),$('[fs-field-validation-name="Company List"] select option').each(function(){if(this.text.toUpperCase().trim()==i.toUpperCase().trim()){var e=this.text;$('[fs-field-validation-name="Company List"] select').val(e),$('[fs-field-validation-name="Company List"] select').trigger("change")}}))})}$(".fsPage").first().addClass("home-section"),app.dasher||$(".home-section label, .section-addline label").mousedown(function(e){1===e.which&&($("#fsLocal").attr("data-state","loading"),setTimeout(()=>{$("#fsLocal").attr("data-state","loaded")},200))}),$('[fs-field-validation-name="Customer Type"] input').change(()=>{app.setCustomerType()}),$('[fs-field-validation-name="Customer Type - Existing"] input').change(function(){var e=$('[fs-field-validation-name="Customer Type - Existing"] input:checked').val();e&&(e=e.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,""),app.setData("existingCustomerType",e),e.match(/discount/gi)&&$('.section-billing input[type="radio"]').prop("checked","checked")),$('.home-section input[value="I would like to upgrade my phone"]').is(":checked")&&$(".section-phones-list .fsImageOptionFieldContainer input").val("").trigger("change")}),$(".home-section [fs-field-validation-name='Which province are you from?'] select").change(function(){app.setData("province",$(this).val()),$(".section-phones-list .fsImageOptionFieldContainer input").trigger("change")}),$(".home-section [fs-field-validation-name='Which province are you from?'] select").val()&&$(".home-section [fs-field-validation-name='Which province are you from?'] select").trigger("change"),app.data.userProvince&&$("[fs-field-validation-name='Which province are you from?'] select").val(app.data.userProvince).trigger("change")},setCustomerType:function(){var e=$('[fs-field-validation-name="Customer Type"] input:checked').val();e&&(e=e.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,""),app.setData("customerType",e),"existing-rogers-customer"===e?($('[fs-field-validation-name="Select One Primary ID"] select option[value!="Drivers License"]').hide(),$('[fs-field-validation-name="Select One Primary ID"] select option[value=""]').show()):$('[fs-field-validation-name="Select One Primary ID"] select option').show())},getPhonePlans:function(e,i=!1){let a=availablePlans.find(i=>i.phone.trim()===e.trim());var n=null;a&&a.tip&&(n=a.tip);let t=a.groups.filter(e=>e.include.includes(app.data.region)),o=[];if(o=t.length>0?t:a.groups.filter(e=>0===e.include.length&&!e.exclude.includes(app.data.region)),console.log("Pricing type",app.data.pricingType),app.data.company){let e=o.filter(e=>e.include.includes(app.data.company));e.length>0&&(o=e)}if(app.data.pricingType){var s=o.filter(e=>e.pricing==app.data.pricingType);s&&(o=s)}if(i||$('input[value="I would like to add a line"]').is(":checked")){let e=o.filter(e=>"additional"===e.planType);e.length>0&&(o=e)}if(app.data.customerType){let e=o.filter(e=>e.customerType===app.data.customerType&&e.include.includes(app.data.company));e.length>0&&(o=e)}var l=jQuery("<div class='plans-list'></div>");o.length>0&&o[0].plans.forEach(e=>{var i=e;if(-1!==i.indexOf("$")){var a=i.indexOf("$"),n=i.slice(0,a),t=i.match(/\$((?:\d|\,)*\.?\d+)/g)||[];t&&(t=t[0]);var o=i.slice(i.indexOf("per month on the")+"per month on the".length,i.length).trim(),s=null;if(-1!==o.indexOf("Bonus")){var d=o.slice(o.lastIndexOf("+"),o.lastIndexOf("Bonus")+5);o=o.slice(0,o.lastIndexOf("+")),s=d.slice(d.lastIndexOf("+")+1,d.indexOf("GB")+2),d=(d=d.replace("+","")).slice(d.indexOf("Bonus"),d.length)}var p=-1!==i.indexOf("UP Front Edge")||-1!==i.indexOf("Upfront Edge");p&&(n=n.slice(n.indexOf("-")+1,n.length).trim());var r=o.slice(0,o.indexOf("GB")+2);o=(o=o.slice(o.indexOf("GB")+2,o.length)).replace("Infinite Plan","Infinite Data Plan");var c=t.slice(0,t.indexOf(".")),f=t.slice(t.indexOf("."),t.length),m=jQuery("<label><div class='box'><input type='radio' name='phone-plans' value='"+e+"'></input></div></label>");tag=m.find(".box"),p?($(m).addClass("upfront"),tag.append('<span class="upfront"><i class="en">Upfront Edge</i><i class="fr notranslate">Voie Express</i><span title="What is Upfront Edge"></span></span>')):"No Term"!==n.trim()&&($(m).addClass("financing"),tag.append('<span class="financing">Financing</span>'));var h="";n.length>=30&&(h="tight"),"No Term"===n.trim()&&(h+=" no-term"),console.log(app.company,$('[fs-field-validation-name="Employee"] select').val()),tag.append('<span class="model '+h+'" data-model="'+n+'">'+n+"</span>"),tag.append('<span class="plan"><strong>'+r+"</strong> "+o+"</span>"),d&&(tag.addClass("has-bonus"),tag.append('<span class="bonus"><strong>'+s+" </strong> "+d+"</span>")),o.length>35&&tag.addClass("small-text"),tag.append('<span class="price"><strong>'+c+"</strong><span>"+f+"</span>/mo.</span>"),m.append(tag),l.append(m)}});var d=jQuery("<div class='plans-list-wrapper'></div>");return o.length>0?d.prepend(l):d.prepend('<p class="no-pricing">No Pricing available for the selected device</p>'),n&&d.append("<div class='tip'>"+n+"</div>"),d},initPhoneSection:function(){$(".page-phones-list").first().find(".section-phones-list .fsImageOptionFieldContainer input").trigger("change"),$(".page-phones-list").first().find(".section-phones-list .fsImageOptionFieldContainer .fsOptionLabel").wrap('<span class="notranslate"></span>'),$(".page-phones-list").first().find(".section-phone-colors .fsRowBody legend span").addClass("notranslate"),$('[fs-field-validation-name="Additional Line Phone"] select').on("change",function(){e(this,!0)}),$(".page-phones-list").find(".section-phones-list .fsImageOptionFieldContainer input").on("change",function(){e(this)}),$(".page-phones-list").on("click",".plans-list .box .upfront span",function(e){e.preventDefault(),$("p.upfront-edge-agreement").modal()}),app.dasher&&$(".section-plans-list").on("click",".plans-list > label",function(){$(".plans-list > label").removeClass("selected"),$(this).addClass("selected")});function e(e,i=!1){if($(".page-contact-information").is(":visible"))return;var a=$(e).closest(".fsPage"),n=$(e).val().trim();if(!n)return;a.attr("id")===$(".page-phones-list").first().attr("id")?(app.setData("phone",n),"Apple iPhone XR"===n||"Apple iPhone 11"===n?$(".page-accessories").first().find(".lightning-cable").show():$(".page-accessories").first().find(".lightning-cable").hide(),app.setData("plan",null),"Bring Own Device"===app.data.phone?app.setData("phoneColor","None"):app.setData("phoneColor","")):(app.setData("additionalPhone",n),"Apple iPhone XR"===n||"Apple iPhone 11"===n?$(".page-accessories").eq(1).find(".lightning-cable").show():$(".page-accessories").eq(1).find(".lightning-cable").hide(),app.setData("additionalPlan",null),"Bring Own Device"===n?app.setData("additionalPhoneColor","None"):app.setData("additionalPhoneColor","")),a.find(".section-plans-list .phone-plans").hide(),a.find('.section-phone-colors .fsRowBody legend span:contains(" - ")').closest(".fsRow").hide();let t=$("x.phone-color-row");a.find(".section-phone-colors .fsRowBody legend span").each(function(){$(this).text().trim().includes(n+" - ")&&(t=$(this).closest(".fsRow"))}),t.show(),t.find(".fsImageOptionFieldContainer button").length,app.dasher&&(a.find('.upfront-edge-agreement-text, [fs-field-validation-name="Agreement"]').hide(),a.find('.upfront-edge-agreement-text, [fs-field-validation-name="Agreement"]').closest(".fsRow").hide(),a.find(".upfront-edge-agreement-text input").removeClass("fsRequired"));let o=app.getPhonePlans(n,i);a.find(".plans-list-wrapper").length>0?a.find(".plans-list-wrapper").html(o.html()):a.find(".section-plans-list").prepend(o[0].outerHTML),a.find(".plans-list-wrapper .plans-list label").length&&!0,$("html, body").animate({scrollTop:a.find(".section-phone-colors").offset().top},500,function(){t.find(".fsImageOptionFieldContainer button").first().trigger("click")})}function i(e){var i=$(e).closest(".fsPage"),a=$('.plans-list input[type="radio"]:checked').siblings(".model").data("model");!a||-1===a.indexOf("Apple iPhone 12 64GB")&&-1===a.indexOf("Apple iPhone 12 128GB")?$('[fs-field-validation-name="Apple iPhone 12 - Color "] button[aria-label="Red"]').show():$('[fs-field-validation-name="Apple iPhone 12 - Color "] button[aria-label="Red"]').hide();var n=".page-addons";if(i.attr("id")===$(".page-phones-list").first().attr("id")?app.setData("plan",$(e).val()):(app.setData("additionalPlan",$(e).val()),n=".page-additional-addons"),a){app.setData("model",a.trim());let e=app.dp.find(e=>e.model===a.trim());if(e){let i=null,a=parseInt(e.price,10),t=null;a>0&&a<600?(i=6.99,t="https://s3.amazonaws.com/files.formstack.com/public/874862/image_MWNat699v.2.png","QC"===app.data.region&&(t="https://s3.amazonaws.com/files.formstack.com/public/874862/image_QC699v.2.png")):a>=600&&a<800?(i=8.99,t="https://s3.amazonaws.com/files.formstack.com/public/874862/image_MWNat899v.2.png","QC"===app.data.region&&(t="https://s3.amazonaws.com/files.formstack.com/public/874862/image_QC899v.2.png")):a>=800&&a<1500?(i=15.99,t="https://s3.amazonaws.com/files.formstack.com/public/874862/image_MWNat1599v.2.png","QC"===app.data.region&&(i=12.99,t="https://s3.amazonaws.com/files.formstack.com/public/874862/image_QC1299v.2.png.png")):a>=1500&&a<=3e3&&(i=18.99,t="https://s3.amazonaws.com/files.formstack.com/public/874862/image_MWNat1899v.2.png","QC"===app.data.region&&(i=15.99,t="https://s3.amazonaws.com/files.formstack.com/public/874862/image_QC1599v.png")),$(n+' button[alt="DP"]').show(),$(n+' button[alt="DP"] label').html("Premium Device Protection $"+i+"/mo."),$(n+" button[alt='DP'] > div").css("background-image","url("+t+")")}else $(n+' button[alt="DP"]').hide()}else $(n+' button[alt="DP"]').hide();if($('[fs-field-validation-name="Agreement"]').closest(".fsRow").addClass("upfront-edge-agreement-text"),$(e).prop("checked")&&$(e).closest(".upfront").length>0?(i.find('.upfront-edge-agreement-text, [fs-field-validation-name="Agreement"]').show(),i.find('.upfront-edge-agreement-text, [fs-field-validation-name="Agreement"]').closest(".fsRow").show(),i.find(".upfront-edge-agreement-text").find(".fsRowBody").show(),i.find(".upfront-edge-agreement-text input").addClass("fsRequired").prop("checked",!1)):(i.find('.upfront-edge-agreement-text, [fs-field-validation-name="Agreement"]').hide(),i.find('.upfront-edge-agreement-text, [fs-field-validation-name="Agreement"]').closest(".fsRow").hide(),i.find(".upfront-edge-agreement-text input").removeClass("fsRequired")),app.conditionalTablet){var t=parseInt(i.find(".section-plans-list").find(".plans-list input:checked").closest(".box").find(".plan strong").text().split(" ")[0],10),o=$('.home-section input[value="NEW Rogers Customer"]').is(":checked"),s=$('.home-section input[value="I would like to upgrade my phone"]').is(":checked");isNaN(t)||t<25||!o&&!s?(i.attr("id")===$(".page-phones-list").first().attr("id")&&($(".page-addons .section-addons input:checkbox").removeAttr("checked"),$(".page-addons .section-addons .fsImageOptionImageSelected").removeClass("fsImageOptionImageSelected").addClass("fsImageOptionImage")),$(".page-addons .section-addons .fsImageOptionButton").each((e,i)=>{-1===$(i).find(".fsOptionLabel").text().indexOf("Huawei")&&-1===$(i).find(".fsOptionLabel").text().indexOf("ZTE Grand X")||($(i).addClass("disabled"),0===$(i).find("span.error").length&&$(i).append("<span class='error'>Tablet Offer is only available for Data Plans of 25GB or greater.</span>"))})):$(".page-addons .section-addons .disabled").removeClass("disabled");var l=parseInt($(".page-additional-phone").find(".plans-list input:checked").closest(".box").find(".plan strong").text().split(" ")[0],10);$(".page-addons .fsImageOptionFieldContainer input").val();var d=$(".page-addons .fsImageOptionFieldContainer input:checked").val(),p=!1;!d||-1===d.indexOf("Huawei")&&-1===d.indexOf("ZTE Grand X")||(p=!0),isNaN(l)||l<25||p?(i.attr("id")!==$(".page-phones-list").first().attr("id")&&($(".page-additional-addons input:checkbox").removeAttr("checked"),$(".page-additional-addons .fsImageOptionImageSelected").removeClass("fsImageOptionImageSelected").addClass("fsImageOptionImage")),$(".page-additional-addons .fsImageOptionButton").each((e,i)=>{-1===$(i).find(".fsOptionLabel").text().indexOf("Huawei")&&-1===$(i).find(".fsOptionLabel").text().indexOf("ZTE Grand X")||($(i).addClass("disabled"),p&&$(i).addClass("fsHidden"),0===$(i).find("span.error").length&&$(i).append("<span class='error'>Tablet Offer is only available for Data Plans of 25GB or greater.</span>"))})):$(".page-additional-addons .disabled").removeClass("disabled fsHidden")}}$(".page-phones-list").first().find(".section-phones-list .fsImageOptionFieldContainer input").trigger("change"),$(".page-phones-list").on("click",".plans-list label",function(e,i=!1){!1,i&&!0}),$(".page-phones-list").on("change",".plans-list input",function(){i(this)}),$(".page-additional-phone").on("change",".plans-list input",function(){i(this)}),$(".page-additional-phone").on("change",".upfront-edge-agreement input",function(){$(this).prop("checked")&&$(this).removeClass("fsRequired")}),$(".page-additional-phone").on("click",".upfront-edge-agreement label",function(e){e.target===this&&$(this).find("input").trigger("click")}),$('.section-addons button[alt="DP"], .section-additional-addons button[alt="DP"]').next("input").on("change",function(){if($(this).is(":checked")){let e=$(this).prev().find(".fsOptionLabel").html();$(this).closest(".fsSection").find('[fs-field-validation-name="Device Protection"] input').val(e),$(this).closest(".fsSection").find('[fs-field-validation-name="Add a Line - Device Protection"] input').val(e)}else $(this).closest(".fsSection").find('[fs-field-validation-name="Device Protection"] input').val(""),$(this).closest(".fsSection").find('[fs-field-validation-name="Add a Line - Device Protection"] input').val("")}),$('.section-additional-phone [fs-field-validation-name="Additional Line Phone Color"] input').change(function(){app.setData("additionalPhoneColor",$(this).val())}),$(".page-phones-list .section-phone-colors .fsImageOptionFieldContainer input").change(function(){app.setData("phoneColor",$(this).val()),$('.page-phones-list .section-phone-colors .fsRow[style*="display: none"] .fsImageOptionFieldContainer input').val(""),$('.page-phones-list .section-phone-colors .fsRow[style*="display: none"] .fsImageOptionFieldContainer .fsImageOptionImageSelected').removeClass("fsImageOptionImageSelected").addClass("fsImageOptionImage")});var a=$(".phone-plans-list label").length,n="columns-2";1===a?n="columns-1":3===a&&(n="columns-3"),$(".phone-plans-list").addClass(n);var t=".section-phone-banners";$(t).find('[fs-field-type="richtext"] img').each(function(){$(this).attr("src").match(/upfront/gi)||$(this).attr("data-src").match(/upfront/gi)?$(this).closest(".fsRow").addClass("upfront-sample"):$(this).hasClass("full")?$(this).closest(".fsRow").addClass("fullBanner"):$(this).closest(".fsRow").addClass("bannerRow")}),$(t).find('[fs-field-type="richtext"]').each(function(){2===$(this).find("img").length&&($(this).find("p").addClass("double-banner"),$(this).closest(".fsRow").removeClass("bannerRow"))}),$(t).find('[fs-field-type="richtext"] table').each(function(){$(this).closest(".fsRow").addClass("bannerRow")}),app.conditionalTablet&&($(".section-addons .fsImageOptionButton").click(function(){if("true"===$(this).attr("aria-checked"))return!0;var e=!0,i=0,a=-1!==$(this).find(".fsOptionLabel").text().indexOf("Huawei")||-1!==$(this).find(".fsOptionLabel").text().indexOf("ZTE Grand X");return $(".section-addons .fsImageOptionFieldContainer").find("input:checked").each(function(){-1===$(this).val().indexOf("Huawei")&&-1===$(this).val().indexOf("ZTE Grand X")||i++}),i>0&&a&&(alert("Only one tablet per customer account is allowed"),e=!1),e}),$(".page-additional-addons .fsImageOptionButton").click(function(){if("true"===$(this).attr("aria-checked"))return!0;var e=!0,i=0,a=-1!==$(this).find(".fsOptionLabel").text().indexOf("Huawei")||-1!==$(this).find(".fsOptionLabel").text().indexOf("ZTE Grand X");return $(".page-additional-addons .fsImageOptionFieldContainer").find("input:checked").each(function(){-1===$(this).val().indexOf("Huawei")&&-1===$(this).val().indexOf("ZTE Grand X")||i++}),i>0&&a&&(alert("Only one tablet per customer account is allowed"),e=!1),e}))},initAdditionalSection:function(){$('.section-addline input, [fs-field-validation-name="Customer Type - Existing"] input , [fs-field-validation-name="Which province are you from?"] select').change(function(){if("Yes"===$(".section-addline input:checked").val()||"I would like to add a line"===$('[fs-field-validation-name="Customer Type - Existing"] input:checked').val()){var e=$(".page-phones-list").clone();e.find('[fs-field-validation-name="Primary plan"], [fs-field-validation-name="Primary Phone Color"]').closest(".fsRow").remove(),e.find("button").prop("type","button"),e.find(".fsImageOptionImageSelected").removeClass("fsImageOptionImageSelected").addClass("fsImageOptionImage"),e.find(".fsImageOptionFieldContainer input").val("").removeClass("fsRequired"),e.find(".fsSectionHeader").remove(),e.find(".section-phone-banners").first().remove(),e.find('[fs-field-validation-name="Agreement"]').closest(".fsRow").addClass("upfront-edge-agreement"),e.find(".byod-not-available").closest(".fsRow").hide(),e.find('button[alt="Bring Own Device"]').addClass("enabled"),e.find("*").each(function(){$(this).attr("name")&&$(this).attr("name",$(this).attr("name")+"_clone"),$(this).attr("id")&&$(this).attr("id",$(this).attr("id")+"_clone"),app.dasher&&$(this).attr("aria-checked")&&$(this).attr("aria-checked","false"),$(this).removeAttr("fs-field-type"),$(this).removeAttr("fs-field-validation-name")}),e.html(e.html().replace("Primary Line","Additional Line")),0===$(".section-additional-phone .addtional-phone-wrapper").length?$(".section-additional-phone").append('<div class="addtional-phone-wrapper">'+e.html()+"</div>"):$(".section-additional-phone .addtional-phone-wrapper").html(e.html());var i=$(".section-additional-phone .section-phones-list"),a=$(".section-additional-phone .section-plans-list");i.find(".fsImageOptionButton").click(function(){i.find(".fsImageOptionImageSelected").removeClass("fsImageOptionImageSelected").addClass("fsImageOptionImage"),app.dasher?$(this).find(".fsImageOptionImage").addClass("fsImageOptionImageSelected").removeClass("fsImageOptionImage").closest("button").addClass("selected"):$(this).find(".fsImageOptionImage").addClass("fsImageOptionImageSelected").removeClass("fsImageOptionImage"),$('.section-additional-phone [fs-field-validation-name="Additional Line Phone"] select').val($(this).find(".fsOptionLabel").text()),$('.section-additional-phone [fs-field-validation-name="Additional Line Phone"] select').trigger("change"),"Bring Own Device"===$(this).find(".fsOptionLabel").text()&&$('[fs-field-validation-name="Primary Phone Color"] input').val("None")}),i.find(".fsImageOptionButton").first().trigger("click");var n=$(".section-phone-colors");n.find(".fsImageOptionButton").click(function(){n.find(".fsImageOptionImageSelected").removeClass("fsImageOptionImageSelected").addClass("fsImageOptionImage"),app.dasher?$(this).find(".fsImageOptionImage").addClass("fsImageOptionImageSelected").removeClass("fsImageOptionImage").closest("button").addClass("selected"):$(this).find(".fsImageOptionImage").addClass("fsImageOptionImageSelected").removeClass("fsImageOptionImage"),$('.section-additional-phone [fs-field-validation-name="Additional Line Phone Color"] input').val($(this).find(".fsOptionLabel").text()),$('.section-additional-phone [fs-field-validation-name="Additional Line Phone Color"] input').trigger("change")}),a.on("click",".plans-list label",function(){app.dasher&&(a.find(".plans-list label").removeClass("selected"),$(this).addClass("selected")),$('.section-additional-phone [fs-field-validation-name="Additional Line Plan"] input').val($(this).find("input").val()),$('.section-additional-phone [fs-field-validation-name="Additional Line Plan"] input').trigger("change")});$(".section-addons fieldset");n.find(".fsImageOptionButton").first().trigger("click"),"I would like to add a line"===$('[fs-field-validation-name="Customer Type - Existing"] input:checked').val()&&($('[fs-field-validation-name="Primary plan"] input').val(""),app.data.phone=null,app.data.phoneColor=null,app.data.plan=null)}else app.data.additionalPhone=null,app.data.additionalPhoneColor=null,app.data.additionalPlan=null})},initBillingSection:function(){$(".fsNextButton").on("click",function(){$(".section-billing").is(":visible")&&($('.section-billing input[type="checkbox"]').closest(".fsRowBody").removeClass("fsValidationError"),$('.section-billing input[type="checkbox"]').length===$('.section-billing input[type="checkbox"]:checked').length?($('.section-billing input[type="radio"]').prop("checked","checked"),$('.section-billing input[type="radio"]').closest(".fsRowBody").hasClass("fsValidationError")):($('.section-billing input[type="radio"]').removeAttr("checked"),$('.section-billing input[type="radio"]').closest(".fsRowBody").hasClass("fsValidationError")&&setTimeout(()=>{$('.section-billing input[type="checkbox"]').closest(".fsRowBody").hasClass("fsValidationError")||$('.section-billing input[type="checkbox"]').closest(".fsRowBody").addClass("fsValidationError")},100)))})},urlParam:function(e){var i=new RegExp("[?&]"+e+"=([^&#]*)").exec(window.location.href);return null==i?null:decodeURI(i[1])||0}};function convertCapitalize(){return arguments[0].toUpperCase()}
//# sourceMappingURL=app.min.js.map